controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        .......777.......
        ......77777......
        .....d55555d.....
        .....d55555d.....
        ......55555......
        .......555.ff....
        ....226ff6fef....
        ...2276f5fef22...
        ...dd766f5f7dd...
        ...dd76f9f5fdd...
        ...227f9f6ff22...
        ...22f9f666722...
        ....f9f66667.....
        ...f9f666667.....
        ...ff222.222.....
        .....222.222.....
        .....222.222.....
        .....fff.fff.....
        .....fff.fff.....
        .................
        `,img`
        .......777.......
        ......77777......
        .....d55555d.....
        .....d55555d.....
        ......55555......
        .......555.ff....
        ....776ff6fef....
        ...7776f5fef77...
        ...dd766f5f7dd...
        ...dd76f9f5fdd...
        ...227f9f6ff22...
        ...22f9f666722...
        ....f9f66667.....
        ...f9f666667.....
        ...ff222.222.....
        .....222.222.....
        .....222.fff.....
        .....fff.fff.....
        .....fff.........
        .................
        `,img`
        .......777.......
        ......77777......
        .....d55555d.....
        .....d55555d.....
        ......55555......
        .......555.ff....
        ....776ff6fef....
        ...7776f5fef77...
        ...dd766f5f7dd...
        ...dd76f9f5fdd...
        ...227f9f6ff22...
        ...22f9f666722...
        ....f9f66667.....
        ...f9f666667.....
        ...ff222.222.....
        .....222.222.....
        .....222.222.....
        .....fff.fff.....
        .....fff.fff.....
        .................
        `,img`
        .......777.......
        ......77777......
        .....d55555d.....
        .....d55555d.....
        ......55555......
        .......555.ff....
        ....776ff6fef....
        ...7776f5fef77...
        ...dd766f5f7dd...
        ...dd76f9f5fdd...
        ...227f9f6ff22...
        ...22f9f666722...
        ....f9f66667.....
        ...f9f666667.....
        ...ff222.222.....
        .....222.222.....
        .....fff.222.....
        .....fff.fff.....
        .........fff.....
        .................
        `,img`
        .......777.......
        ......77777......
        .....d55555d.....
        .....d55555d.....
        ......55555......
        .......555.ff....
        ....776ff6fef....
        ...7776f5fef77...
        ...dd766f5f7dd...
        ...dd76f9f5fdd...
        ...227f9f6ff22...
        ...22f9f666722...
        ....f9f66667.....
        ...f9f666667.....
        ...ff222.222.....
        .....222.222.....
        .....222.222.....
        .....fff.fff.....
        .....fff.fff.....
        .................
        `],
    200,
    false
    )
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        ......777........
        .....77777.......
        ......fd55.......
        ......ddd5.......
        ......ffd5.......
        .......dd........
        ......72276......
        .....7722776.....
        .....7722776.....
        .....77dd776.....
        .....77dd776.....
        .....77dd776.....
        .....7722776.....
        .....7722776.....
        ......7777.6.....
        ......2222.6.....
        ......2222.6.....
        ......2222.......
        ......ffff.......
        ......ffff.......
        `,img`
        ......777........
        .....77777.......
        ......fd55.......
        ......ddd5.......
        ......ffd5.......
        .......dd........
        ......72276......
        .....7722776.....
        .....7722776.....
        .....77dd776.....
        .....77dd776.....
        ....22ddd776.....
        ....22dd7776.....
        .....7777776.....
        ......7777.6.....
        ......2222.6.....
        .....22.22.6.....
        .....22.22.......
        .....ff.ff.......
        .....ff.ff.......
        `,img`
        ......777........
        .....77777.......
        ......fd55.......
        ......ddd5.......
        ..22..ffd5.......
        ..22...dd........
        ..dd..72276......
        ..dddd222776.....
        ...ddd227776.....
        .....7777776.....
        .....7777776.....
        .....7777776.....
        .....7777776.....
        .....7777776.....
        ......7777.6.....
        ..ff222.22.6.....
        ..ff22..22.6.....
        ........22.......
        ........ff.......
        ........ff.......
        `],
    500,
    false
    )
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        ........777......
        .......77777.....
        .......55df......
        .......5ddd......
        .......5dff......
        ........dd.......
        ......67227......
        .....6772277.....
        .....6772277.....
        .....677dd77.....
        .....677dd77.....
        .....677dd77.....
        .....6772277.....
        .....6772277.....
        .....6.7777......
        .....6.2222......
        .....6.2222......
        .......2222......
        .......ffff......
        .......ffff......
        `],
    200,
    false
    )
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        ........777......
        .......77777.....
        .......55df......
        .......5ddd......
        .......5dff......
        ........dd.......
        ......67227......
        .....6772277.....
        .....6772277.....
        .....677dd77.....
        .....677dd77.....
        .....677dd77.....
        .....6772277.....
        .....6772277.....
        .....6.7777......
        .....6.2222......
        .....6.2222......
        .......2222......
        .......ffff......
        .......ffff......
        `,img`
        ........777......
        .......77777.....
        .......55df......
        .......5ddd......
        .......5dff......
        ........dd.......
        ......67227......
        .....6772277.....
        .....6772277.....
        .....677dd77.....
        .....677dd77.....
        .....677ddd22....
        .....6777dd22....
        .....6777777.....
        .....6.7777......
        .....6.2222......
        .....6.22.22.....
        .......22.22.....
        .......ff.ff.....
        .......ff.ff.....
        `,img`
        ........777......
        .......77777.....
        .......55df......
        .......5ddd......
        .......5dff..22..
        ........dd...22..
        ......67227..dd..
        .....677222dddd..
        .....677722ddd...
        .....6777777.....
        .....6777777.....
        .....6777777.....
        .....6777777.....
        .....6777777.....
        .....6.7777......
        .....6.22.222ff..
        .....6.22..22ff..
        .......22........
        .......ff........
        .......ff........
        `],
    200,
    false
    )
})
let mySprite: Sprite = null
game.splash("welcome to labyrinth of souls")
game.showLongText("move with up, down, left and right buttons. attack with your sword by pressing \"A\" and with your bow by pressing \"A\"", DialogLayout.Center)
tiles.setCurrentTilemap(tilemap`level1`)
mySprite = sprites.create(img`
    .......777.......
    ......77777......
    .....d55555d.....
    .....d55555d.....
    ......55555......
    .......555.ff....
    ....776ff6fef....
    ...7776f5fef77...
    ...dd766f5f7dd...
    ...dd76f9f5fdd...
    ...227f9f6ff22...
    ...22f9f666722...
    ....f9f66667.....
    ...f9f666667.....
    ...ff222.222.....
    .....222.222.....
    .....222.222.....
    .....fff.fff.....
    .....fff.fff.....
    .................
    `, SpriteKind.Player)
controller.moveSprite(mySprite)
